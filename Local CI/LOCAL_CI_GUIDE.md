# Rails 8.1 Local CI Guide

## Table of Contents
1. [What is Rails 8.1 Local CI?](#what-is-rails-81-local-ci)
2. [How It Works](#how-it-works)
3. [DSL Reference](#dsl-reference)
4. [Practical Examples](#practical-examples)
5. [GitHub Actions Integration](#github-actions-integration)
6. [Best Practices](#best-practices)
7. [Troubleshooting](#troubleshooting)
8. [Resources & References](#resources--references)

---

## What is Rails 8.1 Local CI?

Rails 8.1 introduced a powerful new feature called **Local CI** that standardizes how we run continuous integration checks both locally and in cloud CI environments.

### The Problem It Solves

Before Rails 8.1, teams often faced "works on my machine" syndrome:
- ‚úÖ Tests pass locally
- ‚ùå CI fails on GitHub Actions/CircleCI
- üòì Hours wasted debugging environment differences

### The Solution

Local CI provides a **single source of truth** for your CI workflow:
- **One configuration file** (`config/ci.rb`) defines all CI steps
- **One command** (`bin/ci`) runs the exact same checks locally and remotely
- **Consistent results** regardless of where the code runs

### Key Benefits

1. **Catch Issues Early**: Run full CI suite before pushing code
2. **Faster Feedback**: No waiting for remote CI servers
3. **Standardized Workflow**: Everyone on the team runs the same checks
4. **Better Code Reviews**: Reviewers can easily verify changes locally
5. **Reduced CI Costs**: Fewer failed builds on cloud CI infrastructure

---

## How It Works

Rails Local CI consists of two main components:

### 1. `config/ci.rb` - The Configuration File

This file uses a Ruby DSL (Domain-Specific Language) to define your CI workflow as a series of sequential steps.

**Example**:
```ruby
CI.run do
  step "Setup", "bin/setup --skip-server"
  step "Tests: Rails", "bin/rails test"
  step "Tests: System", "bin/rails test:system"

  if success?
    heading "‚úÖ All CI checks passed!"
  else
    failure "‚ùå CI checks failed"
  end
end
```

### 2. `bin/ci` - The Runner Script

This executable script (generated by Rails) reads `config/ci.rb` and executes each step in order.

**Features**:
- Runs steps sequentially with timing information
- Color-coded output (green = pass, red = fail)
- Sets `CI=true` environment variable
- Stops execution on first failure (fast-fail)
- Returns proper exit codes for automation

---

## DSL Reference

### Core Components

#### `CI.run` Block

Wraps your entire CI configuration. All CI steps must be defined inside this block.

```ruby
CI.run do
  # All your CI steps go here
end
```

#### `step(name, command)`

Defines a single CI step with a display name and shell command.

**Parameters**:
- `name` (String): Human-readable step name displayed in output
- `command` (String): Shell command to execute

**Example**:
```ruby
step "Database Setup", "bin/rails db:create db:migrate"
step "Run Tests", "bin/rails test"
```

#### `success?`

Boolean method that returns true if all previous steps passed.

**Common Usage**: Conditional execution and final messaging

```ruby
if success?
  step "Deploy", "bin/deploy"
  heading "üöÄ Deployment started!"
end
```

#### `heading(title, message = nil)`

Displays a prominent heading in the CI output.

**Parameters**:
- `title` (String): Main heading text
- `message` (String, optional): Additional details

**Example**:
```ruby
heading "‚úÖ All CI checks passed!", "Your changes are ready for review"
```

#### `failure(title, message = nil)`

Displays a failure message (typically used with `unless success?`).

**Parameters**:
- `title` (String): Main error heading
- `message` (String, optional): Additional guidance

**Example**:
```ruby
unless success?
  failure "‚ùå CI checks failed", "Please fix the issues above before submitting your PR"
end
```

#### `gh signoff` (via gh-signoff extension)

When integrated with [gh-signoff](https://github.com/basecamp/gh-signoff), `bin/ci` can set a green GitHub status on your PR the moment all checks pass locally. This lets you configure branch protection to **require local signoff** before merging ‚Äî making your team's PR workflow gate on local CI rather than (or in addition to) cloud CI.

**Setup** (one-time per developer):
```bash
gh extension install basecamp/gh-signoff  # install the GitHub CLI extension
gh signoff install                         # add signoff as a required check on your repo
```

**Pattern in `config/ci.rb`**:
```ruby
if success?
  # Only runs when the gh-signoff extension is installed; falls back to a
  # plain heading otherwise so CI never fails just because signoff isn't set up.
  if `gh extension list 2>/dev/null`.include?("signoff")
    step "Signoff: All systems go", "gh signoff"
  else
    heading "‚úÖ All CI checks passed!", "Your changes are ready for review"
  end
else
  failure "‚ùå CI checks failed", "Please fix the issues above before submitting your PR"
end
```

The guard (`gh extension list ... .include?("signoff")`) ensures the step is silently skipped for developers who haven't installed the extension ‚Äî no broken CI output.

---

### Conditional Steps

You can conditionally run steps using Ruby's standard control flow:

```ruby
# Run only if file/directory exists
step "Style Check", "bin/rubocop" if File.exist?("bin/rubocop")
step "System Tests", "bin/rails test:system" if Dir.exist?("test/system")

# Run only in certain environments
step "Security Audit", "bin/bundler-audit" unless ENV["SKIP_AUDIT"]

# Run based on success of previous steps
if success?
  step "Coverage Report", "bin/simplecov"
end
```

---

## Practical Examples

### Basic Configuration

**Minimal setup for a standard Rails app**:

```ruby
CI.run do
  step "Setup", "bin/setup --skip-server"
  step "Tests", "bin/rails test"

  if success?
    heading "‚úÖ All checks passed!"
  else
    failure "‚ùå Some checks failed"
  end
end
```

### Standard Configuration

**Typical setup with multiple test types**:

```ruby
CI.run do
  # Setup
  step "Setup", "bin/setup --skip-server"

  # Tests
  step "Tests: Models & Controllers", "bin/rails test"
  step "Tests: System", "bin/rails test:system"

  # Final messaging
  if success?
    heading "‚úÖ All CI checks passed!", "Ready for code review"
  else
    failure "‚ùå CI checks failed", "Fix issues before submitting PR"
  end
end
```

### Advanced Configuration

**Full setup with linting, security, and multiple test suites**:

```ruby
CI.run do
  # Setup
  step "Setup", "bin/setup --skip-server"

  # Code Quality
  step "Style: Ruby", "bin/rubocop" if File.exist?("bin/rubocop")
  step "Style: ERB", "bin/erblint" if File.exist?("bin/erblint")

  # Security
  step "Security: Gem Audit", "bin/bundler-audit" if File.exist?("bin/bundler-audit")
  step "Security: Brakeman", "bin/brakeman" if File.exist?("bin/brakeman")

  # Tests
  step "Tests: Rails", "bin/rails test"
  step "Tests: System", "bin/rails test:system" if Dir.exist?("test/system")

  # Coverage (only if all tests passed)
  if success?
    step "Coverage Report", "bin/simplecov"
    heading "‚úÖ All CI checks passed!", "Your changes are ready for review"
  else
    failure "‚ùå CI checks failed", "Please fix the issues above before submitting your PR"
  end
end
```

### With GitHub PR Signoff

**Using gh-signoff to gate PR merges on local CI**:

```ruby
CI.run do
  step "Setup", "bin/setup --skip-server"

  step "Style: Ruby", "bin/rubocop" if File.exist?("bin/rubocop")
  step "Security: Gem audit", "bin/bundler-audit" if File.exist?("bin/bundler-audit")
  step "Tests: Rails", "bin/rails test"

  if success?
    # Marks PR with a green GitHub status ‚Äî requires gh-signoff extension:
    #   gh extension install basecamp/gh-signoff
    #   gh signoff install  (once per repo to enable the required check)
    if !ENV["CI"] && `gh extension list 2>/dev/null`.include?("signoff")
      step "Signoff: All systems go", "gh signoff"
    else
      heading "‚úÖ All CI checks passed!", "Your changes are ready for review"
    end
  else
    failure "‚ùå CI checks failed", "Please fix the issues above before submitting your PR"
  end
end
```

**Why this matters**: Without signoff, a developer could push code, skip `bin/ci`, and open a PR. With `gh signoff install` enforcing the required check, the PR cannot be merged until `bin/ci` passes locally and signs off ‚Äî turning your branch protection into a local CI gate.

---

### Custom Checks

**Adding project-specific validations**:

```ruby
CI.run do
  step "Setup", "bin/setup --skip-server"

  # Standard tests
  step "Tests", "bin/rails test"

  # Custom checks
  step "Check Migrations", "bin/rails db:migrate:status"
  step "Validate Schema", "bin/rails db:schema:dump && git diff --exit-code db/schema.rb"
  step "Check Routes", "bin/rails routes | grep -q 'articles'"

  if success?
    heading "‚úÖ All checks passed!"
  end
end
```

---

## GitHub Actions Integration

One of the most powerful aspects of Rails Local CI is that **the exact same command runs in your CI server**. This eliminates the duplication and drift that often occurs between local test scripts and CI configuration.

### The Simple Approach

In `.github/workflows/ci.yml`, you can simply run:

```yaml
name: CI

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  test:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v4

    - name: Set up Ruby
      uses: ruby/setup-ruby@v1
      with:
        ruby-version: 3.3
        bundler-cache: true

    - name: Run CI
      run: bin/ci
```

That's it! No need to duplicate your test configuration.

### Why This Matters

**Traditional Approach** (Without Local CI):
```yaml
# .github/workflows/ci.yml
jobs:
  lint:
    steps:
      - run: bundle exec rubocop
  test:
    steps:
      - run: bundle exec rails test
  system-test:
    steps:
      - run: bundle exec rails test:system
  security:
    steps:
      - run: bundle exec brakeman
      - run: bundle exec bundler-audit
```

**Problems**:
- ‚ùå Configuration duplicated between local scripts and CI
- ‚ùå Developers may not run the same checks locally
- ‚ùå Easy for configurations to drift out of sync
- ‚ùå Adding a new check requires updating multiple places

**Local CI Approach**:
```yaml
# .github/workflows/ci.yml
jobs:
  test:
    steps:
      - run: bin/ci  # That's it!
```

**Benefits**:
- ‚úÖ Single source of truth in `config/ci.rb`
- ‚úÖ Guaranteed consistency between local and CI
- ‚úÖ Adding a new check only requires updating `config/ci.rb`
- ‚úÖ Developers test the exact same pipeline before pushing

### How It Works in CI

When `bin/ci` runs in GitHub Actions:

1. **Environment Detection**: Rails automatically sets `CI=true`
2. **Step Execution**: All steps from `config/ci.rb` run sequentially
3. **Exit Codes**: Non-zero exit codes fail the workflow
4. **Output**: Colored output shows exactly what passed/failed

### Adding Advanced Features

You can still use GitHub Actions features alongside Local CI:

```yaml
jobs:
  test:
    runs-on: ubuntu-latest

    # Add services if needed
    services:
      postgres:
        image: postgres:16
        env:
          POSTGRES_PASSWORD: postgres
        options: >-
          --health-cmd pg_isready
          --health-interval 10s
          --health-timeout 5s
          --health-retries 5

    steps:
    - uses: actions/checkout@v4

    - name: Set up Ruby
      uses: ruby/setup-ruby@v1
      with:
        ruby-version: 3.3
        bundler-cache: true

    # Set up database if needed
    - name: Set up database
      env:
        RAILS_ENV: test
        DATABASE_URL: postgresql://postgres:postgres@localhost:5432
      run: bin/rails db:create db:migrate

    # Run the full CI suite
    - name: Run CI
      run: bin/ci

    # Upload artifacts on failure
    - name: Upload screenshots
      if: failure()
      uses: actions/upload-artifact@v4
      with:
        name: screenshots
        path: tmp/screenshots
```

### Comparison: Same Command, Everywhere

**On Your Machine**:
```bash
$ bin/ci
‚úÖ Setup - passed (2.3s)
‚úÖ Tests: Rails - passed (5.1s)
‚úÖ Tests: System - passed (12.4s)
All CI checks passed!
```

**In GitHub Actions**:
```
Run bin/ci
‚úÖ Setup - passed (2.3s)
‚úÖ Tests: Rails - passed (5.1s)
‚úÖ Tests: System - passed (12.4s)
All CI checks passed!
```

**Result**: Identical output, identical behavior, identical confidence!

### Migration Path

If you have existing GitHub Actions workflows, you can migrate gradually:

1. **Start**: Keep existing multi-job workflow
2. **Add**: Create `config/ci.rb` with your checks
3. **Test**: Run `bin/ci` locally to verify
4. **Simplify**: Replace GitHub Actions jobs with single `bin/ci` call
5. **Iterate**: Add new checks to `config/ci.rb` instead of `.github/workflows/`

### Best Practices for CI Integration

1. **Keep it Simple**: Let `bin/ci` handle the complexity
2. **Use CI Environment**: Access `ENV['CI']` in `config/ci.rb` for CI-specific behavior
3. **Fail Fast**: Order steps from fastest to slowest to catch issues quickly
4. **Cache Dependencies**: Use GitHub Actions caching for bundler
5. **Document Changes**: Update both code and CI together

---

## Best Practices

### When to Run `bin/ci`

‚úÖ **Always run before**:
- Submitting a pull request
- Pushing to a shared branch
- Requesting code review
- Merging branches

‚úÖ **Consider running after**:
- Making significant changes
- Pulling updates from main branch
- Adding new dependencies
- Modifying test files

### Keeping CI Fast

‚ö° **Speed optimization tips**:

1. **Parallelize when possible**: Use tools like `parallel_tests` gem for test parallelization
2. **Skip unnecessary setup**: Use `--skip-server` flag when you don't need Rails server
3. **Conditional steps**: Only run optional checks when their tools exist
4. **Cache dependencies**: Ensure your `bin/setup` script uses bundler cache
5. **Run frequently**: Small, incremental changes are faster to verify

### Debugging CI Failures

When `bin/ci` fails, follow this process:

1. **Read the output**: Look for the exact error message and failing step
2. **Run the step manually**: Execute the failed command directly to see full output
3. **Isolate the issue**: Run specific test files or subsets
4. **Check recent changes**: Use `git diff` to review what changed
5. **Verify environment**: Ensure dependencies are installed and up-to-date

**Example debugging workflow**:
```bash
# CI fails at "Tests: Rails" step
./bin/ci
# ‚ùå Tests: Rails - failed

# Run the test command directly for more details
bin/rails test

# Run a specific failing test
bin/rails test test/models/article_test.rb

# Check what changed
git diff
```

### Organizing Your CI Configuration

**Keep it maintainable**:

```ruby
CI.run do
  # Group related steps with comments

  # == Setup ==
  step "Setup", "bin/setup --skip-server"

  # == Code Quality ==
  step "Style: Ruby", "bin/rubocop" if File.exist?("bin/rubocop")

  # == Security ==
  step "Security: Gems", "bin/bundler-audit" if File.exist?("bin/bundler-audit")

  # == Tests ==
  step "Tests: Unit", "bin/rails test"
  step "Tests: System", "bin/rails test:system" if Dir.exist?("test/system")

  # == Results ==
  if success?
    heading "‚úÖ All checks passed!", "Ready for review"
  else
    failure "‚ùå Some checks failed", "Fix issues above"
  end
end
```

### Integration with GitHub Actions

Local CI shines when paired with cloud CI. Use the **same `bin/ci` command** in both places:

**`.github/workflows/ci.yml`**:
```yaml
name: CI

on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    - uses: ruby/setup-ruby@v1
      with:
        ruby-version: 3.3
        bundler-cache: true
    - name: Run CI
      run: bin/ci
```

**Benefits**:
- ‚úÖ Identical behavior locally and remotely
- ‚úÖ Single source of truth for CI configuration
- ‚úÖ Easy to debug - just run `bin/ci` locally
- ‚úÖ Simplified GitHub Actions configuration

---

## Troubleshooting

### Common Issues

#### Issue: `bin/ci` command not found

**Solution**:
```bash
# Ensure bin/ci exists and is executable
ls -la bin/ci
chmod +x bin/ci
```

#### Issue: Steps running in wrong order

**Cause**: Steps always run sequentially in the order defined.

**Solution**: Reorder steps in `config/ci.rb` to match your desired sequence.

#### Issue: CI passes locally but fails remotely

**Possible causes**:
1. Different Ruby/Rails versions
2. Missing environment variables
3. Database not properly set up
4. Cached files affecting results

**Solution**: Verify environment parity and ensure `bin/setup` handles all dependencies.

#### Issue: Tests pass individually but fail in CI

**Cause**: Test pollution or dependencies between tests

**Solution**:
```bash
# Run tests in random order to identify dependencies
bin/rails test --seed=12345

# Check for shared state or fixtures
# Look for instance variables that leak between tests
```

### Learning Exercises: Hands-On Practice

To truly understand how Local CI catches issues, **try breaking things on purpose**. This project includes several commented examples in `test/models/article_test.rb` that you can uncomment to trigger failures.

#### Exercise 1: Wrong Assertion (Logic Error)

**Scenario**: Test has incorrect assertion logic

**Steps**:
1. Open `test/models/article_test.rb`
2. Find and uncomment the "EXERCISE 1: Wrong Assertion" test
3. Run `./bin/ci`

**What you'll see**:
```
‚ùå Tests: Rails - failed (0.8s)

Failure:
ArticleTest#test_wrong_assertion_-_should_fail [test/models/article_test.rb:XX]:
Expected true to be nil or false.
```

**Learning outcome**: CI immediately catches assertion errors that would allow bugs to slip through.

**Recovery**: Re-comment the test or fix the assertion, then run `./bin/ci` again.

---

#### Exercise 2: Flaky Test (Incorrect Expectation)

**Scenario**: Test expects wrong behavior

**Steps**:
1. Uncomment the "EXERCISE 2: Flaky Test" example
2. Run `./bin/ci`

**What you'll see**:
```
‚ùå Tests: Rails - failed (0.6s)

Failure:
ArticleTest#test_flaky_expectation_-_should_fail [test/models/article_test.rb:XX]:
Article should save successfully.
Expected true to be nil or false.
```

**Learning outcome**: Demonstrates how CI catches tests with backwards expectations.

**Recovery**: Comment out the test and verify with `./bin/ci`.

---

#### Exercise 3: Syntax Error

**Scenario**: Ruby code has syntax errors

**Steps**:
1. Uncomment the "EXERCISE 4: Syntax Error" example (note: the syntax error is intentional)
2. Run `./bin/ci`

**What you'll see**:
```
‚ùå Tests: Rails - failed (0.2s)

SyntaxError: .../test/models/article_test.rb:XX: syntax error, unexpected end-of-input
```

**Learning outcome**: CI catches syntax errors before they reach code review or production.

**Recovery**: Re-comment the broken test.

---

#### Exercise 4: Configuration Error

**Scenario**: CI configuration references non-existent command

**Steps**:
1. Open `config/ci.rb`
2. Add this line before the final `if success?` block:
   ```ruby
   step "Intentional Failure", "bin/nonexistent_command"
   ```
3. Run `./bin/ci`

**What you'll see**:
```
‚ùå Intentional Failure - failed (0.1s)

bin/ci:XX:in `system': No such file or directory - bin/nonexistent_command
```

**Learning outcome**: Shows how CI handles missing executables or misconfigured steps.

**Recovery**: Remove the line from `config/ci.rb` and run `./bin/ci` again.

---

#### Exercise 5: Slow Test Detection

**Scenario**: Identify performance issues in tests

**Steps**:
1. Uncomment "EXERCISE 5: Slow Test" and the `sleep 2` line
2. Run `./bin/ci`

**What you'll see**:
```
‚úÖ Tests: Rails - passed (2.8s)  # Notice the longer time!
```

**Learning outcome**: CI timing helps identify slow tests that need optimization.

**Best practice**: Tests should be fast. If a test takes >1 second, investigate why.

**Recovery**: Re-comment the slow test.

---

#### Exercise 6: Full Failure Workflow

**Scenario**: Simulate a real-world development mistake

**Complete workflow**:

1. **Make a breaking change**:
   ```bash
   # Edit app/models/article.rb
   # Comment out one validation:
   # validates :title, presence: true
   ```

2. **Run CI locally**:
   ```bash
   ./bin/ci
   ```

3. **Observe failure**:
   ```
   ‚ùå Tests: Rails - failed (0.7s)

   Failure:
   ArticleTest#test_should_not_save_article_without_title
   Saved the article without a title
   ```

4. **Fix the issue**:
   ```bash
   # Uncomment the validation in app/models/article.rb
   validates :title, presence: true
   ```

5. **Verify fix**:
   ```bash
   ./bin/ci
   # ‚úÖ All CI checks passed!
   ```

6. **Commit with confidence**:
   ```bash
   git add .
   git commit -m "Add article validations

   - Validated presence of title and body
   - All CI checks passed locally

   Co-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>"
   ```

**Learning outcome**: This workflow shows the **complete value** of Local CI:
- ‚úÖ Catch bugs before pushing
- ‚úÖ Fix issues with fast feedback
- ‚úÖ Commit only when tests pass
- ‚úÖ Reduce CI failures on GitHub
- ‚úÖ Save team time and infrastructure costs

---

### Troubleshooting Tips

#### Reading CI Output

When `bin/ci` fails, the output follows this pattern:

```
‚úÖ Setup - passed (2.3s)
‚ùå Tests: Rails - failed (0.8s)

[Detailed error output here]

‚ùå CI checks failed
Please fix the issues above before submitting your PR

Total time: 3.1s
```

**Key elements**:
- **‚úÖ Green checkmark** = step passed
- **‚ùå Red X** = step failed
- **Time in parentheses** = how long the step took
- **Error details** = shown between step name and summary
- **Total time** = entire CI run duration

#### Debugging Failed Steps

**Step 1: Identify the failing step**
```bash
./bin/ci
# Look for ‚ùå in the output
```

**Step 2: Run that step manually**
```bash
# If "Tests: Rails" failed, run:
bin/rails test

# If a specific test failed, run just that test:
bin/rails test test/models/article_test.rb:10
```

**Step 3: Get more details**
```bash
# Run with verbose output
bin/rails test --verbose

# Or run with backtrace for errors
bin/rails test --backtrace
```

**Step 4: Isolate the problem**
```bash
# Check what changed
git diff

# Run a single test file
bin/rails test test/models/article_test.rb

# Run tests matching a pattern
bin/rails test test/models/ --name=/validation/
```

**Step 5: Verify the fix**
```bash
# After fixing, always run full CI
./bin/ci
```

---

### Advanced Troubleshooting Scenarios

#### Scenario: Tests pass individually but fail in `bin/ci`

**Possible causes**:
- Test pollution (state leaking between tests)
- Order-dependent tests
- Database state issues

**Solution**:
```bash
# Run tests in random order to expose dependencies
bin/rails test --seed=12345

# Check for instance variables that leak
# Look for @variables defined outside setup/teardown

# Verify database is clean between tests
# Ensure using transactional fixtures or database_cleaner
```

#### Scenario: CI passes locally but fails on GitHub Actions

**Possible causes**:
1. Environment variable differences
2. Ruby/Rails version mismatch
3. Database differences (SQLite vs PostgreSQL)
4. Time zone or locale differences
5. Missing system dependencies

**Solution**:
```bash
# Check versions match
ruby --version
bin/rails --version

# Verify environment variables
printenv | grep -i rails
printenv | grep -i database

# Test with CI environment variable set
CI=true bin/ci

# Review GitHub Actions logs for specific errors
# Compare with local output line-by-line
```

#### Scenario: CI is too slow

**Diagnosis**:
```bash
# Run CI and note timing for each step
./bin/ci

# Example output:
# ‚úÖ Setup - passed (2.3s)
# ‚úÖ Tests: Rails - passed (45.2s)  # ‚Üê Too slow!
```

**Solutions**:

1. **Parallelize tests** (if you have many tests):
   ```bash
   # Add parallel_tests gem
   bundle add parallel_tests

   # Update config/ci.rb
   step "Tests: Rails", "bin/rails parallel:test"
   ```

2. **Profile slow tests**:
   ```bash
   # Find slowest tests
   bin/rails test --profile=10
   ```

3. **Optimize database setup**:
   ```ruby
   # In test/test_helper.rb
   class ActiveSupport::TestCase
     parallelize(workers: :number_of_processors)
     fixtures :all
   end
   ```

4. **Skip system tests in default CI** (run separately):
   ```ruby
   # In config/ci.rb
   # Only run system tests if explicitly requested
   step "Tests: System", "bin/rails test:system" if ENV['RUN_SYSTEM_TESTS']
   ```

---

### Learning Resources

After completing these exercises, you'll understand:

‚úÖ **How CI works** - Sequential step execution with fast-fail behavior
‚úÖ **What failures look like** - Error messages, stack traces, and timing
‚úÖ **How to debug** - Isolating issues and running targeted tests
‚úÖ **Why it's valuable** - Catching bugs before code review or production
‚úÖ **Best practices** - Running CI before every PR, keeping tests fast

**Next steps**:
1. Review the examples in `test/models/article_test.rb`
2. Try each exercise one at a time
3. Read through `config/ci.rb` to understand the configuration
4. Integrate `bin/ci` into your daily workflow
5. Share learnings with your team

**Remember**: The goal isn't just to make tests pass - it's to build **confidence** that your code works correctly before it reaches production.

---

## Resources & References

### Official Rails Documentation
- [Rails 8.1 Release Notes](https://guides.rubyonrails.org/8_1_release_notes.html) - Official Rails 8.1 features
- [Ruby on Rails Blog](https://rubyonrails.org/2025/10/22/rails-8-1) - Rails 8.1 announcement

### Articles & Tutorials
- [Saeloun: Rails 8.1 Local CI](https://blog.saeloun.com/2025/12/17/rails-introduces-ci-to-streamline-new-dsl/) - Detailed walkthrough
- [FastRuby.io: Rails 8.1 Local CI Feature](https://www.fastruby.io/blog/rails-8-1-local-ci.html) - Practical examples
- [Rails GitHub: Structured CI Commit](https://github.com/rails/rails/commit/bcd5c93609c5854399dfb960b3666d318f469eb8) - Original implementation

### Related Tools
- [RuboCop](https://rubocop.org/) - Ruby style checker
- [Brakeman](https://brakemanscanner.org/) - Security vulnerability scanner
- [bundler-audit](https://github.com/rubysec/bundler-audit) - Gem vulnerability checker
- [SimpleCov](https://github.com/simplecov-ruby/simplecov) - Code coverage analyzer

### Code Review Resources
- See [CODE_REVIEW.md](CODE_REVIEW.md) for reviewer guidelines
- See [.github/PULL_REQUEST_TEMPLATE.md](.github/PULL_REQUEST_TEMPLATE.md) for PR checklist

---

## Questions or Feedback?

If you have questions about Local CI or suggestions for improving this guide, please reach out to the backend team or create an issue in this repository.

**Happy testing! üöÄ**
